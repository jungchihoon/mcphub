## v3.1.1 – Cursor 초기협상 완전 호환 (2025-08-08)

이번 릴리즈는 Cursor IDE에서 발생하던 "No tools or prompts" 현상을 해결하기 위한 호환성 조치를 포함합니다. 초기 협상(offerings/capabilities) 단계에서 발생하던 `-32601 Method not found`를 방지하고, `tools/list`/`prompts/list`가 항상 정상 응답되도록 허브 계층에서 직접 처리합니다.

### 변경사항
- `mcpService.ts`
  - MCP SDK Server에 Zod 리터럴 스키마로 다음 핸들러를 등록: `capabilities`, `capabilities/list`, `offerings/list`.
  - 초기 협상 요청이 SDK 계층에서 실패하지 않도록 직접 200 응답.

- `sseService.ts`
  - `POST /mcp`에서 `offerings/list`, `capabilities`, `capabilities/list`를 항상 직접 처리.
  - 배치(JSON 배열) 초기 협상 요청 전체에 대한 일괄 응답 처리 추가.
  - `tools/list`, `tools/call`, `prompts/list`를 세션 ID와 무관하게 직접 처리하여 200 응답 보장.
  - Streamable HTTP 전송 레벨 이벤트 후킹(`onmessage`)로 초기 협상 메시지 로깅을 강화.

### 설정 가이드 (재확인)
```json
{
  "mcp-hub": {
    "type": "streamable-http",
    "url": "http://localhost:3000/mcp",
    "headers": { "Authorization": "Bearer mcphub_실제키값" }
  }
}
```

### 검증 결과
- offerings/list: 200 OK
- tools/list: 200 OK (53개 도구 반환)
- prompts/list: 200 OK (빈 배열이라도 명시적으로 반환)

### 주의
- SSE(`/sse`) 경로는 GET 전용이며, `/register` 엔드포인트는 제공하지 않습니다. Cursor에서는 `streamable-http` + `/mcp`를 사용해야 합니다.


