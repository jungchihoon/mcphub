# MCPHub v3.0.1 릴리즈 노트 - Frontend/Backend 완전 분리

**릴리즈 날짜**: 2025-08-03  
**이전 버전**: v3.0.0  
**호환성**: 완전 호환 (마이그레이션 불필요)

## 🎯 주요 개선사항

### ✅ **Frontend/Backend 완전 분리**
개발 및 운영 환경의 유연성과 효율성을 크게 향상시키는 아키텍처 개선을 완료했습니다.

#### **분리된 서버 구조**
- **백엔드**: Express.js API 서버 (포트 3000)
  - API 엔드포인트 및 MCP 프로토콜 처리
  - 데이터베이스 관리 및 비즈니스 로직
  - CORS 설정으로 안전한 프론트엔드 통신

- **프론트엔드**: Vite 개발 서버 (포트 5173)
  - React 기반 사용자 인터페이스
  - 독립적인 `package.json` 및 의존성 관리
  - HMR(Hot Module Replacement) 지원

## 🐛 해결된 문제들

### 1. **포트 충돌 문제 해결**
**문제**: `concurrently` 중복 실행으로 인한 포트 3000 충돌
**해결**: 독립적인 프론트엔드 `package.json` 생성 및 분리된 실행 환경 구축

### 2. **Config 엔드포인트 500 에러 해결**
**문제**: `/config` 엔드포인트 누락으로 인한 프론트엔드 초기화 실패
**해결**: `configController` 라우트 추가 및 정상 응답 확인

```typescript
// 추가된 라우트
app.get(`${basePath}/config`, getRuntimeConfig);
app.get(`${basePath}/login/config`, getPublicConfig);
```

### 3. **벡터 인덱스 오류 자동 복구**
**문제**: TypeORM 스키마 동기화 시 존재하지 않는 벡터 인덱스 삭제 시도
**해결**: 조건부 인덱스 삭제로 안정성 확보

```sql
DROP INDEX IF EXISTS idx_vector_embeddings_embedding;
DROP INDEX IF EXISTS vector_embeddings_embedding_idx;
```

### 4. **프론트엔드 프록시 오류 해결**
**문제**: 백엔드 미시작 상태에서 프론트엔드 API 호출 실패
**해결**: 백엔드 우선 시작 후 프론트엔드 연결 방식으로 변경

## 🔧 새로운 API 엔드포인트

### `/config` (GET)
프론트엔드 런타임 설정 정보 제공
```json
{
  "success": true,
  "data": {
    "basePath": "",
    "version": "3.0.1",
    "name": "mcphub"
  }
}
```

### `/login/config` (GET)
로그인 페이지 공개 설정 정보 제공
```json
{
  "success": true,
  "data": {}
}
```

## 🚀 실행 방법

### 개발 환경
```bash
# 1. 백엔드 시작
pnpm run backend:dev

# 2. 프론트엔드 시작 (별도 터미널)
cd frontend && pnpm run dev

# 3. 통합 시작 (선택사항)
pnpm run dev
```

### 접속 정보
- **백엔드 API**: http://localhost:3000
- **프론트엔드**: http://localhost:5173
- **MCP 엔드포인트**: http://localhost:3000/mcp

## 📊 성능 개선

### 개발 효율성
- ✅ **독립 개발**: 프론트엔드/백엔드 개별 수정 및 테스트 가능
- ✅ **빠른 리로드**: Vite HMR로 프론트엔드 개발 속도 향상
- ✅ **안정성**: 한쪽 서버 중단이 다른쪽에 영향 없음

### 운영 유연성
- ✅ **독립 배포**: 프론트엔드/백엔드 별도 배포 전략 수립 가능
- ✅ **스케일링**: 각 서비스별 리소스 최적화 가능
- ✅ **모니터링**: 서비스별 독립적인 로그 및 메트릭 수집

## ⚠️ 주의사항

### 환경 변수 확인
프론트엔드/백엔드 분리로 인해 다음 환경 변수들을 확인하세요:

```bash
# .env 파일
FRONTEND_URL=http://localhost:5173
GITHUB_CALLBACK_URL=http://localhost:5173/api/auth/github/callback
```

### CORS 설정
백엔드 서버의 CORS 설정에 프론트엔드 URL이 포함되어 있습니다:
```typescript
origin: [
  'http://localhost:5173',  // Vite 개발 서버
  'http://localhost:3001',  // 대체 프론트엔드 포트
  'https://mcphub.company.com'  // 운영 환경
]
```

## 🔗 관련 문서

- [API 참조 문서](../api-reference.md) - Config 엔드포인트 추가
- [프로젝트 현황](../mcphub-project-status.md) - v3.0.1 상태 반영
- [데이터베이스 스키마](../database-schema.md) - 벡터 인덱스 정리 내용

## 🙏 감사의 말

이번 릴리즈를 통해 MCPHub의 개발 환경이 크게 개선되었습니다. 앞으로 더욱 안정적이고 효율적인 개발이 가능할 것입니다. 

**다음 릴리즈 예정**: v3.1.0 (Cursor IDE 프로토콜 업그레이드, 추가 MCP 서버 지원)